<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Create your LDtk project - bevy_ecs_ldtk Book</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../../favicon.svg">
        <link rel="shortcut icon" href="../../favicon.png">
        <link rel="stylesheet" href="../../css/variables.css">
        <link rel="stylesheet" href="../../css/general.css">
        <link rel="stylesheet" href="../../css/chrome.css">
        <link rel="stylesheet" href="../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../highlight.css">
        <link rel="stylesheet" href="../../tomorrow-night.css">
        <link rel="stylesheet" href="../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../../index.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Tutorials</li><li class="chapter-item expanded "><a href="../../tutorials/tile-based-game/index.html"><strong aria-hidden="true">1.</strong> Tile-based Game</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../tutorials/tile-based-game/create-your-ldtk-project.html" class="active"><strong aria-hidden="true">1.1.</strong> Create your LDtk project</a></li><li class="chapter-item expanded "><a href="../../tutorials/tile-based-game/spawn-your-ldtk-project-in-bevy.html"><strong aria-hidden="true">1.2.</strong> Spawn your LDtk project in Bevy</a></li><li class="chapter-item expanded "><a href="../../tutorials/tile-based-game/add-gameplay-to-your-project.html"><strong aria-hidden="true">1.3.</strong> Add gameplay to your project</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Platformer</div></li><li class="chapter-item expanded affix "><li class="part-title">Explanation</li><li class="chapter-item expanded "><a href="../../explanation/level-selection.html"><strong aria-hidden="true">3.</strong> Level Selection</a></li><li class="chapter-item expanded "><a href="../../explanation/game-logic-integration.html"><strong aria-hidden="true">4.</strong> Game Logic Integration</a></li><li class="chapter-item expanded "><a href="../../explanation/anatomy-of-the-world.html"><strong aria-hidden="true">5.</strong> Anatomy of the World</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Plugin Schedule</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Asset Model</div></li><li class="chapter-item expanded affix "><li class="part-title">How-To Guides</li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Register Bundles for Intgrid Tiles and LDtk Entities</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.</strong> Process Entities Further with Blueprints</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">10.</strong> Combine Tiles into Larger Entities</div></li><li class="chapter-item expanded "><a href="../../how-to-guides/create-bevy-relations-from-ldtk-entity-references.html"><strong aria-hidden="true">11.</strong> Create Bevy Relations from LDtk Entity References</a></li><li class="chapter-item expanded "><a href="../../how-to-guides/respawn-levels-and-worlds.html"><strong aria-hidden="true">12.</strong> Respawn Levels and Worlds</a></li><li class="chapter-item expanded "><a href="../../how-to-guides/make-level-selection-follow-player.html"><strong aria-hidden="true">13.</strong> Make LevelSelection Follow Player</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">14.</strong> Animate Tiles</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.</strong> Camera Logic</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">15.1.</strong> Implement Fit-Inside Camera</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.2.</strong> Implement Fit-Around Camera</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">15.3.</strong> Implement Parallax</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Retrieve Field Instance Data</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.</strong> Retrieve Loaded Level Data</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">18.</strong> Compile to WASM</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">19.</strong> Compile Headless</div></li><li class="chapter-item expanded "><a href="../../how-to-guides/migration-guides/index.html"><strong aria-hidden="true">20.</strong> Migration Guides</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../../how-to-guides/migration-guides/migrate-from-0.8-to-0.9.html"><strong aria-hidden="true">20.1.</strong> Migrate from 0.8 to 0.9</a></li><li class="spacer"></li></ol></li><li class="chapter-item expanded "><a href="../../api-reference.html">API Reference</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">bevy_ecs_ldtk Book</h1>

                    <div class="right-buttons">
                        <a href="../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="create-your-ldtk-project"><a class="header" href="#create-your-ldtk-project">Create your LDtk project</a></h1>
<p>In this section, you will create a simple LDtk project suitable for tile-based gameplay.
This project will have an IntGrid layer of walls, and an Entity layer for placing Player and Goal entities.
It will also have AutoTile rules on top of the IntGrid layer defining the visuals of walls and backgrounds.
If you already have an LDtk project suitable for tile-based gameplay - feel free to skip this section.
However, note that some of the values specified in here will be used in the tutorial going forward, such as...</p>
<ul>
<li>the name/location of the file (<code>assets/tile-based-game.ldtk</code>)</li>
<li>the identifiers of the Player and Goal entities (Player, Goal)</li>
<li>the IntGrid value of walls (1)</li>
</ul>
<p>For details about the tutorial in general, including prerequisites, please see the parent page.</p>
<h2 id="create-empty-project"><a class="header" href="#create-empty-project">Create empty project</a></h2>
<p>Open the LDtk app and create a new project.
For this tutorial, name the project <code>tile-based-game.ldtk</code>, and save it to your Bevy project's <code>assets</code> directory.</p>
<h2 id="set-the-world-layout"><a class="header" href="#set-the-world-layout">Set the World layout</a></h2>
<p>In the <strong>World</strong> tab - set the <strong>World layout</strong> to Horizontal.
This will make levels have a clear linear relationship in the editor, rather than a geographical one.</p>
<p><img src="images/world-layout.png" alt="world-layout" /></p>
<h2 id="import-tilesets"><a class="header" href="#import-tilesets">Import tilesets</a></h2>
<p>Add your environment/player tilesets to the project, in the <strong>Tilesets</strong> tab.
Make sure that the source image files for these tilesets are also in your Bevy project's <code>assets</code> directory.
Name the tilesets &quot;Environment&quot; and &quot;Player&quot; respectively.
For the SunnyLand assets - the Player tileset needs to have a tile size of 32 and the environment asset a tile size of 16.</p>
<p><img src="images/tilesets.png" alt="tilesets" /></p>
<h2 id="add-intgrid-layer-for-walls"><a class="header" href="#add-intgrid-layer-for-walls">Add IntGrid layer for walls</a></h2>
<p>Add an IntGrid layer to the project, in the <strong>Layers</strong> tab.
This layer will be used to define where the collisions are in the level.
Call this layer &quot;Walls&quot;.
Make sure its grid size is 16.
Finally, give it an <strong>Auto-layer tileset</strong> - pointing to the Environment tileset.</p>
<p><img src="images/wall-layer.png" alt="wall-layer" /></p>
<h2 id="define-autotiling-for-walls-and-backgrounds"><a class="header" href="#define-autotiling-for-walls-and-backgrounds">Define autotiling for walls and backgrounds</a></h2>
<p>From the Walls layer definition, select <strong>EDIT RULES</strong> for the Auto-layer tileset.
This is where you will define how LDtk should dynamically render the Walls layer of your levels based off the level's IntGrid values.</p>
<p>First, define a catch-all rule that will place the background tile if no other rules are matched first.</p>
<ol>
<li>Select <strong>+ GROUP</strong> to add a new empty rule group, and name it Background.</li>
<li>On the new group, select <strong>+</strong> to define the first rule.</li>
<li>In the top-right of the rule definition - select the tile you want to use as the background.</li>
<li>Since this is a catch-all rule, no changes to the rule-pattern are necessary.</li>
</ol>
<p><img src="images/background-rule.png" alt="background-rule" /></p>
<p>Next, define a rule that will catch any wall tile.
You will be able to define more complex rules on top of this to make walls prettier, but it's good to start with a generic one first.</p>
<ol>
<li>Create another new group, and name it Walls.</li>
<li>Click <strong>+</strong> on the Walls group to create its first rule.</li>
<li>Select the tile you want to use as a generic wall tile in the top-right.</li>
<li>Set the rule to be 1x1, and left-click the rule-pattern to place a wall tile.</li>
</ol>
<p><img src="images/all-walls-rule.png" alt="all-walls-rule" /></p>
<p>Now you will be able to place walls in your level and they will be automatically rendered using this tile.</p>
<p>The following rule is optional, and will define the tile used for the edges of walls - specifically horizontal edges.</p>
<ol>
<li>Create a new rule in the Walls group.</li>
<li>Select the tile you want to use as the left edges of a wall.</li>
<li>Use a 3x3 pattern, and place a wall tile in the center and a negative wall tile on the left (by right clicking the left-center tile).
This will match any wall tiles that don't have a wall tile to their left.</li>
<li>On this new rule inside the group, enable the <strong>X</strong> option.
This mirrors the rule in the x-direction, so that it works for the right edges of walls as well.</li>
</ol>
<p><img src="images/horizontal-wall-edge-rule.png" alt="horizontal-wall-edge-rule" /></p>
<p>You are welcome to add more rules to the Walls group with more complex patterns for defining the vertical edges or corners.
This tutorial will not go into painstaking detail about creating these, but their definitions are shown below.
One general recommendation is to order these rules from most-specific to least-specific, so that the rule matcher will resort to the catch-all rules last.</p>
<p>A vertical wall edge rule - mirrored in the <strong>Y</strong> direction:</p>
<p><img src="images/vertical-wall-edge-rule.png" alt="vertical-wall-edge-rule" /></p>
<p>An outer corner wall rule - mirrored in the <strong>X</strong> and <strong>Y</strong> directions:</p>
<p><img src="images/wall-outer-corner-rule.png" alt="wall-outer-corner-rule" /></p>
<p>An inner corner wall rule - mirrored in the <strong>X</strong> and <strong>Y</strong> directions:</p>
<p><img src="images/wall-inner-corner-rule.png" alt="wall-inner-corner-rule" /></p>
<p>Now you can enjoy placing walls in your level and watching LDtk auto-tile them for you!</p>
<div style="width:100%;height:0px;position:relative;padding-bottom:54.449%;"><iframe src="https://streamable.com/e/6v4pou" frameborder="0" width="100%" height="100%" allowfullscreen style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden;"></iframe></div>
<h2 id="add-entity-layer"><a class="header" href="#add-entity-layer">Add Entity layer</a></h2>
<p>Add an Entity layer to the project, again, in the <strong>Layers</strong> tab.
This will be used to place less tiling-oriented game objects, like the player, or the goal.
You do not need to make any modifications to the default entity layer for this tutorial, it should be called &quot;Entities&quot; and match the grid size of the Walls layer.</p>
<p><img src="images/entities-layer.png" alt="entity-layer" /></p>
<p>Then, in the <strong>Entities</strong> tab, add a Player entity.
Be sure to name it &quot;Player&quot; and set its editor visual to use a tile from the Player tileset.
This will be important in the next section of the tutorial.
For the SunnyLand assets - you will need to manually set its size to 16x16 so that it fits in a single tile on the grid.</p>
<p><img src="images/player-entity.png" alt="player-entity" /></p>
<p>Lastly, add a Goal entity.
Name it &quot;Goal&quot; and set its editor visual from a tileset as well.
Again, this will be important in the next section of the tutorial.</p>
<p><img src="images/goal-entity.png" alt="goal-entity" /></p>
<h2 id="design-some-levels"><a class="header" href="#design-some-levels">Design some levels</a></h2>
<p>In the following chapters, you will spawn this project in Bevy and implement gameplay code for it.
The game will be simple - move the player around the grid, navigating the walls, and start the next level once they reach the goal.
With this in mind, design a few levels for this game using the tools you have set up thus far.</p>
<p><img src="images/levels.png" alt="levels" /></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../tutorials/tile-based-game/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../../tutorials/tile-based-game/spawn-your-ldtk-project-in-bevy.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../tutorials/tile-based-game/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../../tutorials/tile-based-game/spawn-your-ldtk-project-in-bevy.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../elasticlunr.min.js"></script>
        <script src="../../mark.min.js"></script>
        <script src="../../searcher.js"></script>

        <script src="../../clipboard.min.js"></script>
        <script src="../../highlight.js"></script>
        <script src="../../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
